url_completion_use_history = true;

// Disable automatic spell checker
session_pref("layout.spellcheckDefault", 0);

add_hook("before_quit_hook",
         function () {
             var w = get_recent_conkeror_window();
             var result = (w == null) ||
                 "y" == (yield w.minibuffer.read_single_character_option(
                     $prompt = "Quit Conkeror? (y/n)",
                     $options = ["y", "n"]));
             yield co_return(result);
         });


url_completion_use_history = true;
define_key(content_buffer_normal_keymap, "d", "follow-new-buffer");

// register_user_stylesheet(
//     "data:text/css," +
//         escape(
//             "@namespace url(\"http://www.w3.org/1999/xhtml\");\n" +
//             "span.__conkeror_hint {\n"+
//             "  font-size: 18px !important;\n"+
//             "  line-height: 18px !important;\n"+
//             "}"));

require("page-modes/google-search-results.js");
google_search_bind_number_shortcuts();
